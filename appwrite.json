{
  "projectId": "ai-knowledge-assistant",
  "projectName": "AI Knowledge Assistant",
  "functions": [
    {
      "name": "api-health",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/health",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    },
    {
      "name": "api-auth",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/auth",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    },
    {
      "name": "api-users",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/users",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    },
    {
      "name": "api-documents",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/documents",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    },
    {
      "name": "api-conversations",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/conversations",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    },
    {
      "name": "api-admin",
      "$createdAt": "",
      "runtime": "python-3.11",
      "path": "functions/admin",
      "entrypoint": "src/main.py",
      "ignore": ["node_modules", ".npm"],
      "execute": ["any"],
      "events": [],
      "schedule": "",
      "timeout": 15
    }
  ],
  "database": {
    "collections": [
      {
        "name": "users",
        "documentSecurity": true,
        "permissions": ["create", "read", "update", "delete"],
        "attributes": [
          {
            "key": "email",
            "type": "string",
            "size": 254,
            "required": true
          },
          {
            "key": "full_name",
            "type": "string",
            "size": 100,
            "required": true
          },
          {
            "key": "role",
            "type": "string",
            "size": 20,
            "required": true
          },
          {
            "key": "is_active",
            "type": "boolean",
            "required": true,
            "default": true
          },
          {
            "key": "department",
            "type": "string",
            "size": 100,
            "required": false
          },
          {
            "key": "job_title",
            "type": "string",
            "size": 100,
            "required": false
          },
          {
            "key": "created_at",
            "type": "datetime",
            "required": true
          }
        ],
        "indexes": [
          {
            "key": "email",
            "type": "key",
            "attributes": ["email"],
            "orders": ["ASC"]
          },
          {
            "key": "role",
            "type": "key",
            "attributes": ["role"],
            "orders": ["ASC"]
          }
        ]
      },
      {
        "name": "documents",
        "documentSecurity": true,
        "permissions": ["create", "read", "update", "delete"],
        "attributes": [
          {
            "key": "filename",
            "type": "string",
            "size": 255,
            "required": true
          },
          {
            "key": "file_path",
            "type": "string",
            "size": 500,
            "required": true
          },
          {
            "key": "mime_type",
            "type": "string",
            "size": 100,
            "required": true
          },
          {
            "key": "file_size",
            "type": "integer",
            "required": true
          },
          {
            "key": "uploaded_by",
            "type": "string",
            "size": 50,
            "required": true
          },
          {
            "key": "project_id",
            "type": "string",
            "size": 50,
            "required": false
          },
          {
            "key": "processing_status",
            "type": "string",
            "size": 20,
            "required": true,
            "default": "pending"
          },
          {
            "key": "created_at",
            "type": "datetime",
            "required": true
          }
        ],
        "indexes": [
          {
            "key": "uploaded_by",
            "type": "key",
            "attributes": ["uploaded_by"],
            "orders": ["ASC"]
          },
          {
            "key": "project_id",
            "type": "key",
            "attributes": ["project_id"],
            "orders": ["ASC"]
          }
        ]
      },
      {
        "name": "conversations",
        "documentSecurity": true,
        "permissions": ["create", "read", "update", "delete"],
        "attributes": [
          {
            "key": "title",
            "type": "string",
            "size": 200,
            "required": true
          },
          {
            "key": "user_id",
            "type": "string",
            "size": 50,
            "required": true
          },
          {
            "key": "project_id",
            "type": "string",
            "size": 50,
            "required": false
          },
          {
            "key": "is_active",
            "type": "boolean",
            "required": true,
            "default": true
          },
          {
            "key": "created_at",
            "type": "datetime",
            "required": true
          }
        ],
        "indexes": [
          {
            "key": "user_id",
            "type": "key",
            "attributes": ["user_id"],
            "orders": ["ASC"]
          }
        ]
      },
      {
        "name": "messages",
        "documentSecurity": true,
        "permissions": ["create", "read", "update", "delete"],
        "attributes": [
          {
            "key": "conversation_id",
            "type": "string",
            "size": 50,
            "required": true
          },
          {
            "key": "message_type",
            "type": "string",
            "size": 10,
            "required": true
          },
          {
            "key": "content",
            "type": "string",
            "size": 10000,
            "required": true
          },
          {
            "key": "created_at",
            "type": "datetime",
            "required": true
          }
        ],
        "indexes": [
          {
            "key": "conversation_id",
            "type": "key",
            "attributes": ["conversation_id"],
            "orders": ["ASC"]
          }
        ]
      }
    ]
  },
  "storage": {
    "buckets": [
      {
        "name": "documents",
        "fileSecurity": true,
        "enabled": true,
        "maximumFileSize": 104857600,
        "allowedFileExtensions": ["pdf", "doc", "docx", "txt", "xls", "xlsx"],
        "compression": "gzip",
        "encryption": true,
        "antivirus": true
      }
    ]
  }
}
